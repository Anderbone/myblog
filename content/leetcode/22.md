
+++
date = "2021-08-19"
title = "22. Generate Parentheses"
tags = ["backtracking"]
+++


Given n pairs of parentheses, write a function to generate all combinations of well-formed parentheses.
For example, given n = 3, a solution set is:
[ "((()))", "(()())", "(())()", "()(())", "()()()" ]

- code
```py
class Solution:
    def generateParenthesis(self, n: int) -> List[str]:
        res = []
        def dfs(start, end, path):
            if len(path) == 2 * n:
                res.append("".join(path))
                return
            if start < n:
                dfs(start + 1, end, path + ["("])
            if end < start:
                dfs(start, end + 1, path + [")"])
        dfs(0, 0, [])
        return res

```
- c  brute force
```py
class Solution:

    def generateParenthesis(self, n: int) -> List[str]:

        def check(each):
            stack = []
            for i in each:
                if i == '(':
                    stack.append(i)
                elif i == ')':
                    if not stack:
                        return False
                    elif stack.pop() != '(':
                        return False
            if not stack:
                return True
            return False

        out = list(itertools.product('()', repeat = n*2))
        ans = []
        for each in out:
            s = ''
            for i in each:
                s += i
            if s.count('(') != s.count(')'):
                continue
            if check(s) is True:
                ans.append(s)

        return ans
```
